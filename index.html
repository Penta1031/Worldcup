<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>íŠ¸ìœ„í„° ì´ìƒí˜• ì›”ë“œì»µ</title>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <style>
        :root {
            --twitter-blue: #1d9bf0;
            --twitter-dark: #15202b;
            --border: #38444d;
            --netflix-red: #e50914;
            --select-blue: #2d88ff;
        }

        body {
            font-family: 'Pretendard', sans-serif;
            background-color: var(--twitter-dark);
            color: white;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        /* ìƒë‹¨ ì›”ë“œì»µ ì •ë³´ ë°” */
        #top-bar {
            background-color: rgba(21, 32, 43, 0.95);
            height: 45px;
            display: none;
            align-items: center;
            justify-content: center;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 100;
            border-bottom: 1px solid var(--border);
        }
        #display-title { font-size: 0.9rem; font-weight: 800; }
        #display-info { position: absolute; right: 15px; font-size: 0.75rem; color: #8899a6; }

        /* ì„¤ì • í™”ë©´ UI */
        #setup-ui {
            max-width: 480px;
            margin: 60px auto;
            padding: 20px;
            background: #192734;
            border-radius: 12px;
            text-align: center;
            border: 1px solid var(--border);
        }
        input, textarea {
            width: 100%; background: var(--twitter-dark); color: white; border: 1px solid var(--border);
            padding: 12px; border-radius: 8px; box-sizing: border-box; margin-bottom: 10px;
        }
        .main-btn {
            width: 100%; padding: 15px; background: var(--twitter-blue); color: white;
            border: none; border-radius: 30px; cursor: pointer; font-size: 1rem; font-weight: bold;
        }
        #load-section { margin-top: 25px; border-top: 1px dashed var(--border); padding-top: 15px; text-align: left; }
        #saved-list { margin-top: 10px; max-height: 180px; overflow-y: auto; background: var(--twitter-dark); border-radius: 8px; }
        .saved-item { padding: 12px; border-bottom: 1px solid var(--border); cursor: pointer; display: flex; justify-content: space-between; font-size: 0.8rem; }

        /* ê²Œì„ ë©”ì¸ ë ˆì´ì•„ì›ƒ */
        #game-ui { display: none; height: 100vh; padding-top: 45px; box-sizing: border-box; }
        .container { display: flex; flex-direction: row; height: 100%; width: 100%; gap: 0; }

        /* í›„ë³´ ì¹´ë“œ ì»¨í…Œì´ë„ˆ */
        .candidate-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #000;
            overflow: hidden; 
            height: 100%;
            position: relative;
        }

        /* [ìƒë‹¨] í›„ë³´ ì œëª© ë°” */
        .candidate-name {
            width: 100%;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: 800;
            background: #000;
            z-index: 30; 
            flex-shrink: 0;
        }

        /* ì˜ìƒ ì˜ì—­ ì»¨í…Œì´ë„ˆ */
        .tweet-card-container {
            flex: 1;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
        }

        /* íŠ¸ìœ— ì¹´ë“œ - ìœ„ì¹˜ ë° í•˜ë‹¨ í…ìŠ¤íŠ¸ ì€í ìˆ˜ì¹˜ ì¡°ì • */
        .tweet-card {
            width: 100%;
            z-index: 10;
            /* ì¹´ë“œë¥¼ ì‚´ì§ ì•„ë˜ë¡œ ë‚´ë¦¼ (ê¸°ì¡´ -110px -> -95px) */
            margin-top: -95px; 
            /* í•˜ë‹¨ ë‚ ì§œ ì •ë³´ë¥¼ ë” ê¹Šê²Œ ê°€ë¦¼ (ê¸°ì¡´ -55px -> -75px) */
            margin-bottom: -75px; 
            /* ì»¨íŠ¸ë¡¤ëŸ¬ ì˜† ì—¬ë°±ì„ ìœ„í•´ ë°°ìœ¨ì„ ë¯¸ì„¸í•˜ê²Œ ì¶•ì†Œ */
            transform: scale(0.98); 
            pointer-events: auto;
        }

        /* [í•˜ë‹¨] ì„ íƒ ë²„íŠ¼ - ë†’ì´ë¥¼ í‚¤ì›Œ ë‚ ì§œ/ì‹œê°„ ì •ë³´ë¥¼ í™•ì‹¤íˆ ê°€ë¦¼ */
        .inline-select-btn {
            width: 100%;
            height: 70px; /* ë†’ì´ë¥¼ í‚¤ì›Œ í•˜ë‹¨ ì •ë³´ ì°¨ë‹¨ë ¥ ê°•í™” */
            border: none;
            color: white;
            font-size: 1.3rem;
            font-weight: 900;
            cursor: pointer;
            z-index: 30; 
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            /* ë²„íŠ¼ì´ ì˜ìƒ ìœ„ë¡œ ì‚´ì§ ì˜¬ë¼ì˜¤ê²Œ í•˜ì—¬ ê²½ê³„ì„  ê°€ë¦¼ */
            margin-top: -5px; 
            box-shadow: 0 -5px 25px rgba(0,0,0,0.9);
        }
        .btn-left { background-color: var(--netflix-red); }
        .btn-right { background-color: var(--select-blue); }

        /* ëª¨ë°”ì¼ ìµœì í™” */
        @media (max-width: 768px) {
            .container { flex-direction: column; }
            .candidate-wrapper { height: 50%; }
            .candidate-name { height: 35px; font-size: 0.9rem; }
            .inline-select-btn { height: 60px; font-size: 1.1rem; }
            .tweet-card { 
                transform: scale(0.98); 
                margin-top: -90px;
                margin-bottom: -70px;
            } 
        }

        #winner-display { display: none; padding-top: 80px; text-align: center; height: 100vh; overflow-y: auto; background: var(--twitter-dark); }
    </style>
</head>
<body>

    <div id="top-bar">
        <div id="display-title"></div>
        <div id="display-info">
            <span id="display-round"></span>
            <span id="display-match" style="margin-left: 5px;"></span>
        </div>
    </div>

    <div id="setup-ui">
        <h2 style="color: var(--twitter-blue); margin-bottom: 20px;">ì´ìƒí˜• ì›”ë“œì»µ</h2>
        <input type="text" id="wc-title" placeholder="ì›”ë“œì»µ ì œëª©">
        <div class="mode-selector" style="display:flex; gap:8px; margin-bottom:15px;">
            <button class="mode-btn active" id="mode-links-btn" onclick="setMode('links')">ë§í¬ë§Œ</button>
            <button class="mode-btn" id="mode-pairs-btn" onclick="setMode('pairs')">ì´ë¦„ + ë§í¬</button>
        </div>
        <textarea id="data-input" rows="5" placeholder="íŠ¸ìœ— ë§í¬ë“¤ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
        <button class="main-btn" onclick="startGame()" style="margin-top:10px">ê²Œì„ ì‹œì‘</button>

        <div id="load-section">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <span style="font-size:0.85rem; font-weight:bold; color:#8899a6;">ì €ì¥ëœ ëª©ë¡</span>
                <button onclick="loadSavedList()" style="background:none; border:none; color:var(--twitter-blue); cursor:pointer; font-size:0.75rem;">[ìƒˆë¡œê³ ì¹¨]</button>
            </div>
            <div id="saved-list"></div>
        </div>
    </div>

    <div id="game-ui">
        <div class="container">
            <div class="candidate-wrapper">
                <div class="candidate-name" id="left-name"></div>
                <div class="tweet-card-container">
                    <div id="left-tweet-container" class="tweet-card"></div>
                </div>
                <button class="inline-select-btn btn-left" onclick="selectWinner(0)">âœ” ì„ íƒ</button>
            </div>
            <div class="candidate-wrapper">
                <div class="candidate-name" id="right-name"></div>
                <div class="tweet-card-container">
                    <div id="right-tweet-container" class="tweet-card"></div>
                </div>
                <button class="inline-select-btn btn-right" onclick="selectWinner(1)">âœ” ì„ íƒ</button>
            </div>
        </div>
    </div>

    <div id="winner-display">
        <h1 style="color: gold; font-size: 2.2rem;">ğŸ† ìµœì¢… ìš°ìŠ¹ ğŸ†</h1>
        <div id="winner-name" style="font-size: 1.5rem; margin: 15px 0; font-weight: bold;"></div>
        <div id="winner-tweet" style="max-width: 450px; margin: 0 auto; transform: scale(0.9);"></div>
        <button class="main-btn" style="margin-top:30px; max-width: 200px;" onclick="location.reload()">ë‹¤ì‹œí•˜ê¸°</button>
    </div>

    <script src="script.js"></script>
</body>
</html>