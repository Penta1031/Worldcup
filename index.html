<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>íŠ¸ìœ„í„° ì´ìƒí˜• ì›”ë“œì»µ</title>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <style>
        :root {
            --twitter-blue: #1d9bf0;
            --twitter-dark: #15202b;
            --border: #38444d;
            --netflix-red: #e50914;
            --select-blue: #2d88ff;
        }

        body {
            font-family: 'Pretendard', sans-serif;
            background-color: var(--twitter-dark);
            color: white;
            margin: 0;
            padding: 0;
            overflow: hidden; /* ì „ì²´ ìŠ¤í¬ë¡¤ ë°©ì§€ */
            height: 100dvh; /* dynamic viewport height ëŒ€ì‘ */
        }

        /* ìƒë‹¨ ë°”: ë†’ì´ 6vh */
        #top-bar {
            background-color: rgba(21, 32, 43, 0.95);
            height: 6vh;
            display: none;
            align-items: center;
            justify-content: center;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 100;
            border-bottom: 1px solid var(--border);
        }
        #display-title { font-size: 0.8rem; font-weight: 800; }
        #display-info { position: absolute; right: 10px; font-size: 0.7rem; color: #8899a6; }

        /* ì„¤ì • UI */
        #setup-ui {
            max-width: 480px;
            margin: 20px auto;
            padding: 20px;
            background: #192734;
            border-radius: 12px;
            text-align: center;
            border: 1px solid var(--border);
        }
        input, textarea {
            width: 100%; background: var(--twitter-dark); color: white; border: 1px solid var(--border);
            padding: 10px; border-radius: 8px; box-sizing: border-box; margin-bottom: 10px;
        }
        .main-btn {
            width: 100%; padding: 12px; background: var(--twitter-blue); color: white;
            border: none; border-radius: 30px; cursor: pointer; font-size: 1rem; font-weight: bold;
        }

        /* ê²Œì„ ë©”ì¸ ë ˆì´ì•„ì›ƒ */
        #game-ui { 
            display: none; 
            height: 100dvh; 
            padding-top: 6vh; /* ìƒë‹¨ ë°” ë†’ì´ë§Œí¼ íŒ¨ë”© */
            box-sizing: border-box; 
        }
        .container { 
            display: flex; 
            flex-direction: column; /* ëª¨ë°”ì¼ ìš°ì„ : ì„¸ë¡œ ë°°ì¹˜ */
            height: 100%; 
            width: 100%; 
        }

        /* í›„ë³´ ì¹´ë“œ ì»¨í…Œì´ë„ˆ: ê°ê° ë‚¨ì€ ë†’ì´ì˜ 50% */
        .candidate-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #000;
            overflow: hidden; 
            position: relative;
            border-bottom: 1px solid var(--border);
        }

        /* [ìƒë‹¨] í›„ë³´ ì´ë¦„: ë†’ì´ 5vh */
        .candidate-name {
            width: 100%;
            height: 5vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: 800;
            background: #000;
            z-index: 30; 
        }

        /* ì˜ìƒ ì˜ì—­ ì»¨í…Œì´ë„ˆ: ì´ë¦„ê³¼ ë²„íŠ¼ ì‚¬ì´ ë‚¨ì€ ê³µê°„ ëª¨ë‘ ì°¨ì§€ */
        .tweet-card-container {
            flex: 1;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #000;
            position: relative;
        }

        /* íŠ¸ìœ— ì¹´ë“œ ì¡°ì •: ëª¨ë°”ì¼ í™”ë©´ì— ë§ê²Œ ì¶•ì†Œ ë° ë¶ˆí•„ìš”í•œ ë¶€ë¶„ ê°€ë¦¼ */
        .tweet-card {
            width: 100%;
            max-width: 500px;
            z-index: 10;
            /* íŠ¸ìœ— ìœ„ì•„ë˜ ì—¬ë°± ìµœì†Œí™” ë° í¬ê¸° ì¶•ì†Œ */
            transform: scale(0.85); 
            margin-top: -80px; 
            margin-bottom: -40px;
            pointer-events: auto;
        }

        /* [í•˜ë‹¨] ì„ íƒ ë²„íŠ¼: ë†’ì´ 8vh */
        .inline-select-btn {
            width: 100%;
            height: 8vh;
            border: none;
            color: white;
            font-size: 1rem;
            font-weight: 900;
            cursor: pointer;
            z-index: 30; 
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn-left { background-color: var(--netflix-red); }
        .btn-right { background-color: var(--select-blue); }

        /* ë°ìŠ¤í¬íƒ‘ ë·° (ê°€ë¡œ ë°°ì¹˜) */
        @media (min-width: 769px) {
            .container { flex-direction: row; }
            .candidate-wrapper { border-bottom: none; border-right: 1px solid var(--border); }
            .tweet-card { transform: scale(1); margin-top: -100px; margin-bottom: -60px; }
            .candidate-name { height: 40px; }
            .inline-select-btn { height: 60px; }
        }

        #winner-display { display: none; padding-top: 60px; text-align: center; height: 100vh; overflow-y: auto; background: var(--twitter-dark); }
    </style>    
</head>
<body>

    <div id="top-bar">
        <div id="display-title"></div>
        <div id="display-info">
            <span id="display-round"></span>
            <span id="display-match" style="margin-left: 5px;"></span>
        </div>
    </div>

    <div id="setup-ui">
        <h2 style="color: var(--twitter-blue); margin-bottom: 15px;">ì´ìƒí˜• ì›”ë“œì»µ</h2>
        <input type="text" id="wc-title" placeholder="ì›”ë“œì»µ ì œëª©">
        <div class="mode-selector" style="display:flex; gap:8px; margin-bottom:12px;">
            <button class="mode-btn active" id="mode-links-btn" onclick="setMode('links')" style="flex:1; padding:8px; background:#192734; border:1px solid var(--border); color:#8899a6; cursor:pointer; border-radius:8px;">ë§í¬ë§Œ</button>
            <button class="mode-btn" id="mode-pairs-btn" onclick="setMode('pairs')" style="flex:1; padding:8px; background:#192734; border:1px solid var(--border); color:#8899a6; cursor:pointer; border-radius:8px;">ì´ë¦„ + ë§í¬</button>
        </div>
        <textarea id="data-input" rows="5" placeholder="íŠ¸ìœ— ë§í¬ë“¤ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
        <button class="main-btn" onclick="startGame()" style="margin-top:10px">ê²Œì„ ì‹œì‘</button>

        <div id="load-section">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <span style="font-size:0.8rem; font-weight:bold; color:#8899a6;">ì €ì¥ëœ ëª©ë¡</span>
                <button onclick="loadSavedList()" style="background:none; border:none; color:var(--twitter-blue); cursor:pointer; font-size:0.75rem;">[ìƒˆë¡œê³ ì¹¨]</button>
            </div>
            <div id="saved-list"></div>
        </div>
    </div>

    <div id="game-ui">
        <div class="container">
            <div class="candidate-wrapper">
                <div class="candidate-name" id="left-name"></div>
                <div class="tweet-card-container">
                    <div id="left-tweet-container" class="tweet-card"></div>
                </div>
                <button class="inline-select-btn btn-left" onclick="selectWinner(0)">âœ” ì„ íƒ</button>
            </div>
            <div class="candidate-wrapper">
                <div class="candidate-name" id="right-name"></div>
                <div class="tweet-card-container">
                    <div id="right-tweet-container" class="tweet-card"></div>
                </div>
                <button class="inline-select-btn btn-right" onclick="selectWinner(1)">âœ” ì„ íƒ</button>
            </div>
        </div>
    </div>

    <div id="winner-display">
        <h1 style="color: gold; font-size: 2rem;">ğŸ† ìµœì¢… ìš°ìŠ¹ ğŸ†</h1>
        <div id="winner-name" style="font-size: 1.4rem; margin: 15px 0; font-weight: bold;"></div>
        <div id="winner-tweet" style="max-width: 450px; margin: 0 auto; transform: scale(0.9);"></div>
        <button class="main-btn" style="margin-top:30px; max-width: 200px;" onclick="location.reload()">ë‹¤ì‹œí•˜ê¸°</button>
    </div>

    <script src="script.js"></script>
</body>
</html>